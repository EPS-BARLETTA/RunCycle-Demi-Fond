<!DOCTYPE html><html lang="fr"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>RunCycle ‚Äî Prof (lite)</title>
<style>
:root{--bg:#0b1020;--ink:#e6e9ef;--muted:#9aa4b2;--line:#222b3c;--panel:#0f172a;--primary:#3b82f6}
*{box-sizing:border-box}html,body{margin:0}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:radial-gradient(1200px 800px at 50% -10%,#13203e,#0b1020);color:var(--ink)}
header,footer{border-block:1px solid var(--line);padding:22px;text-align:center}
main{max-width:960px;margin:0 auto;padding:20px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));border:1px solid var(--line);border-radius:18px;padding:18px;margin:12px 0}
.grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.preset{border:1px solid var(--line);border-radius:14px;padding:14px;background:var(--panel);cursor:pointer}
.banner{position:sticky;top:10px;display:flex;gap:12px;justify-content:space-between;align-items:center;padding:12px;border:1px solid #2c3951;border-radius:14px;background:var(--panel);font-weight:800}
.code{font:800 32px/1 ui-monospace,Menlo,Consolas,monospace}
.btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:12px;border:1px solid var(--line);background:var(--panel);color:var(--ink);cursor:pointer;text-decoration:none;font-weight:600}
.overlay{position:fixed;inset:0;background:rgba(3,6,14,.96);display:grid;place-items:center;z-index:99}
.overlay>div{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:18px;max-width:360px;width:92%}
.badge{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--muted)}
.warn{display:none;margin-top:8px;padding:10px;border:1px solid #9f1239;background:#2b0b14;color:#fecdd3;border-radius:12px}
</style>
<body>
<div id="gate" class="overlay">
  <div>
    <h3>üîí Acc√®s Prof</h3>
    <p class="badge">Entrez le code 57 (ou ajoutez ?p=57 √† l‚ÄôURL)</p>
    <div style="display:flex;gap:8px">
      <input id="gateCode" type="password" inputmode="numeric" placeholder="Code" style="flex:1">
      <button class="btn" id="btnGate">Ouvrir</button>
    </div>
    <div id="err" style="display:none;color:#ef4444;margin-top:6px">Code incorrect</div>
  </div>
</div>

<header><h1>RunCycle ‚Äî Prof (Lite)</h1><div class="badge">Choisir une s√©ance ‚Üí Dicter le code</div></header>
<main>
  <div class="banner">
    <div>CODE √âL√àVES : <span id="code" class="code">‚Äî</span></div>
    <div style="display:flex;gap:8px">
      <button class="btn" id="btnCopy">Copier</button>
      <button class="btn" id="btnRand">G√©n√©rer code perso</button>
      <a class="btn" href="./eleve.html" target="_blank">Tester c√¥t√© √âl√®ves</a>
    </div>
  </div>
  <div id="warn" class="warn"></div>

  <div class="card">
    <h2>‚≠ê S√©ances type (codes fixes)</h2>
    <div class="grid" id="tiles"></div>
    <p class="badge">S1=101A ‚Ä¢ S2=202B ‚Ä¢ S3=303C ‚Ä¢ S4=404D ‚Ä¢ S5=505E</p>
  </div>

  <div class="card">
    <h2>‚ÑπÔ∏è Astuce</h2>
    <p>Dictez le code aux √©l√®ves. Ils saisissent le code dans <b>eleve.html</b>, entrent leur <b>VMA</b> et la <b>piste</b>, puis g√©n√®rent un <b>QR DUO</b> pour ScanProf.</p>
  </div>
</main>
<footer>RunCycle ‚Äî √âquipe EPS Lyc√©e Vauban ‚Äî Luxembourg ‚Äî JB</footer>

<script>
const FIX = { S1:"101A", S2:"202B", S3:"303C", S4:"404D", S5:"505E" };
function warn(msg){ const w=document.getElementById('warn'); w.textContent=msg; w.style.display='block'; }
function clearWarn(){ document.getElementById('warn').style.display='none'; }

function setCode(c){ document.getElementById('code').textContent=c; }
function randCode(){ return Math.random().toString(36).slice(2,6).toUpperCase() + Math.floor(Math.random()*10); }

function buildTiles(){
  const tiles=document.getElementById('tiles'); tiles.innerHTML='';
  [['S1',"Test 6‚Äô (VMA)"],['S2',"2√ó6‚Äô @90% (r=3‚Äô)"],['S3',"3√ó4‚Äô 80/90/100% (r=2‚Äô)"],['S4',"4√ó3‚Äô 90‚Üí95% (r=2‚Äô)"],['S5',"√âval 4√ó3‚Äô @95% (r=2‚Äô)"]]
    .forEach(([k,txt])=>{
      const div=document.createElement('div'); div.className='preset'; div.innerHTML='<b>'+k+'</b><div class="badge">'+txt+'</div><div style="margin-top:6px">Code : <b>'+FIX[k]+'</b></div>';
      div.onclick=()=>{ clearWarn(); setCode(FIX[k]); };
      tiles.appendChild(div);
    });
}

document.addEventListener('DOMContentLoaded', function(){
  buildTiles();
  document.getElementById('btnCopy').onclick=function(){ const c=document.getElementById('code').textContent||''; if(!c){warn('Aucun code √† copier');return;} navigator.clipboard&&navigator.clipboard.writeText(c); };
  document.getElementById('btnRand').onclick=function(){ clearWarn(); const c=randCode(); setCode(c); try{ localStorage.setItem('RC_custom_'+c, JSON.stringify({Titre:'S√©ance perso',Blocs:4,DureeBloc_min:3,Recup_min:2,Cible_%VMA:[0.95,0.95,0.95,0.95],Piste_m:200})); }catch(e){} };
  // Gate
  function openGate(){
    const v=(document.getElementById('gateCode').value||'').trim();
    if(v==='57'){ document.getElementById('gate').style.display='none'; }
    else { document.getElementById('err').style.display='block'; }
  }
  document.getElementById('btnGate').onclick=openGate;
  document.getElementById('gateCode').addEventListener('keydown', e=>{ if(e.key==='Enter') openGate(); });
  const u=location.search+location.hash; if(u.includes('p=57')||u.includes('#57')){ document.getElementById('gate').style.display='none'; }
});
</script>
</body></html>
